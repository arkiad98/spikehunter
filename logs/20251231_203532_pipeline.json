{"asctime": "2025-12-31 20:35:32,947", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 131, "message": "Logger initialized. All logs for this run will be saved to: logs/20251231_203532_pipeline.json"}
{"asctime": "2025-12-31 20:35:32,963", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_db.py", "lineno": 140, "message": "데이터베이스 테이블이 성공적으로 준비되었습니다. (경로: data/db/spikehunter_log.db)"}
{"asctime": "2025-12-31 20:35:32,963", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:35:32,964", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "      <<< SpikeHunter v5.2 Integrated Pipeline >>>"}
{"asctime": "2025-12-31 20:35:32,964", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:35:32,966", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 데이터 관리 (수집/생성/점검)"}
{"asctime": "2025-12-31 20:35:32,966", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 모델 학습 및 ML 최적화"}
{"asctime": "2025-12-31 20:35:32,967", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. 전략 백테스트 / 최적화 / WF검증"}
{"asctime": "2025-12-31 20:35:32,967", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "4. 분석 메뉴 (Feature Analysis)"}
{"asctime": "2025-12-31 20:35:32,967", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "5. 유틸리티 (Utils)"}
{"asctime": "2025-12-31 20:35:32,968", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "6. 실전 검증 (Field Test)"}
{"asctime": "2025-12-31 20:35:32,968", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "9. 유지보수 및 데이터 관리 (Maintenance)"}
{"asctime": "2025-12-31 20:35:32,969", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 종료"}
{"asctime": "2025-12-31 20:35:32,969", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"메뉴를 선택하세요:\""}
{"asctime": "2025-12-31 20:35:36,846", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"2\""}
{"asctime": "2025-12-31 20:35:36,847", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [2. 모델 학습 및 최적화] ---"}
{"asctime": "2025-12-31 20:35:36,847", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 모델 학습 (Train)"}
{"asctime": "2025-12-31 20:35:36,847", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. ML 하이퍼파라미터 최적화 (Optuna)"}
{"asctime": "2025-12-31 20:35:36,848", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 20:35:36,848", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 20:35:39,455", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"1\""}
{"asctime": "2025-12-31 20:35:39,510", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:35:39,511", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 20:35:39,511", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:35:39,511", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 전체 데이터셋 로드: data/proc/ml_dataset\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 20:35:41,891", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 589.59 MB -> 304.96 MB (48.3% 감소)"}
{"asctime": "2025-12-31 20:35:43,511", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 20:35:43,530", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 87375개, 실패(0) 634874개"}
{"asctime": "2025-12-31 20:35:43,556", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 20:35:43,558", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 20:36:29,879", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.1764 (L=0.1764)"}
{"asctime": "2025-12-31 20:36:29,931", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.1786 (L=0.1786)"}
{"asctime": "2025-12-31 20:36:29,986", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2383 (L=0.2383)"}
{"asctime": "2025-12-31 20:36:30,053", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.1969 (L=0.1969)"}
{"asctime": "2025-12-31 20:36:30,149", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.1834 (L=0.1834)"}
{"asctime": "2025-12-31 20:36:30,167", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.1947"}
{"asctime": "2025-12-31 20:36:30,199", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 20:37:57,530", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 20:37:57,557", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [2. 모델 학습 및 최적화] ---"}
{"asctime": "2025-12-31 20:37:57,557", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 모델 학습 (Train)"}
{"asctime": "2025-12-31 20:37:57,558", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. ML 하이퍼파라미터 최적화 (Optuna)"}
{"asctime": "2025-12-31 20:37:57,558", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 20:37:57,559", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 20:38:06,065", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"2\""}
{"asctime": "2025-12-31 20:38:06,066", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:38:06,066", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "      <<< ML 모델 하이퍼파라미터 최적화 >>>"}
{"asctime": "2025-12-31 20:38:06,067", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:38:06,067", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "최적화할 모델을 선택하세요:"}
{"asctime": "2025-12-31 20:38:06,068", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. LightGBM"}
{"asctime": "2025-12-31 20:38:06,068", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. XGBoost"}
{"asctime": "2025-12-31 20:38:06,068", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. CatBoost"}
{"asctime": "2025-12-31 20:38:06,069", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택 (1/2/3):\""}
{"asctime": "2025-12-31 20:38:07,640", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"1\""}
{"asctime": "2025-12-31 20:38:07,677", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 모델: LGBM, Trials: 20, Optuna Jobs: 1"}
{"asctime": "2025-12-31 20:38:09,855", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> Warm Start 설정됨: {'n_estimators': 1884, 'learning_rate': 0.04728483712927642, 'num_leaves': 103, 'max_depth': 7, 'colsample_bytree': 0.9996986402619018, 'subsample': 0.756394445406343, 'min_child_samples': 100}"}
{"asctime": "2025-12-31 20:38:22,155", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:38:22,154]\u001b[0m Trial 0 finished with value: 0.18299480770733267 and parameters: {'learning_rate': 0.04728483712927642, 'num_leaves': 103, 'max_depth': 7, 'n_estimators': 1884, 'colsample_bytree': 0.9996986402619018, 'subsample': 0.756394445406343, 'min_child_samples': 100}. Best is trial 0 with value: 0.18299480770733267.\u001b[0m"}
{"asctime": "2025-12-31 20:38:32,067", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:38:32,067]\u001b[0m Trial 1 finished with value: 0.18320509843391025 and parameters: {'learning_rate': 0.04462900255617548, 'num_leaves': 33, 'max_depth': 6, 'n_estimators': 1513, 'colsample_bytree': 0.7623549320944829, 'subsample': 0.7890729540878594, 'min_child_samples': 32}. Best is trial 1 with value: 0.18320509843391025.\u001b[0m"}
{"asctime": "2025-12-31 20:39:01,129", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:39:01,128]\u001b[0m Trial 2 finished with value: 0.18266473318381868 and parameters: {'learning_rate': 0.005641810815400705, 'num_leaves': 61, 'max_depth': 6, 'n_estimators': 1436, 'colsample_bytree': 0.7787776806426092, 'subsample': 0.6828769711995029, 'min_child_samples': 77}. Best is trial 1 with value: 0.18320509843391025.\u001b[0m"}
{"asctime": "2025-12-31 20:39:10,216", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:39:10,215]\u001b[0m Trial 3 finished with value: 0.1820831695832255 and parameters: {'learning_rate': 0.08427769460496863, 'num_leaves': 143, 'max_depth': 9, 'n_estimators': 2593, 'colsample_bytree': 0.7917225940016879, 'subsample': 0.773073483764734, 'min_child_samples': 60}. Best is trial 1 with value: 0.18320509843391025.\u001b[0m"}
{"asctime": "2025-12-31 20:39:32,023", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:39:32,022]\u001b[0m Trial 4 finished with value: 0.18244390820210823 and parameters: {'learning_rate': 0.01607353815320768, 'num_leaves': 124, 'max_depth': 17, 'n_estimators': 2181, 'colsample_bytree': 0.7995372827627818, 'subsample': 0.8570588727198714, 'min_child_samples': 66}. Best is trial 1 with value: 0.18320509843391025.\u001b[0m"}
{"asctime": "2025-12-31 20:39:46,330", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:39:46,329]\u001b[0m Trial 5 finished with value: 0.18346863829811735 and parameters: {'learning_rate': 0.037407774846979144, 'num_leaves': 44, 'max_depth': 9, 'n_estimators': 2207, 'colsample_bytree': 0.5941887827292678, 'subsample': 0.6496694199768496, 'min_child_samples': 52}. Best is trial 5 with value: 0.18346863829811735.\u001b[0m"}
{"asctime": "2025-12-31 20:40:16,329", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:40:16,328]\u001b[0m Trial 6 finished with value: 0.18337533153649682 and parameters: {'learning_rate': 0.015026868568788734, 'num_leaves': 58, 'max_depth': 10, 'n_estimators': 1922, 'colsample_bytree': 0.7798545638803092, 'subsample': 0.8191386844846985, 'min_child_samples': 24}. Best is trial 5 with value: 0.18346863829811735.\u001b[0m"}
{"asctime": "2025-12-31 20:40:30,649", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:40:30,648]\u001b[0m Trial 7 finished with value: 0.183143772387414 and parameters: {'learning_rate': 0.04885544969024725, 'num_leaves': 55, 'max_depth': 18, 'n_estimators': 2833, 'colsample_bytree': 0.7349854719032729, 'subsample': 0.533621819746932, 'min_child_samples': 26}. Best is trial 5 with value: 0.18346863829811735.\u001b[0m"}
{"asctime": "2025-12-31 20:40:56,118", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:40:56,118]\u001b[0m Trial 8 finished with value: 0.18245942768526063 and parameters: {'learning_rate': 0.006497904459023799, 'num_leaves': 53, 'max_depth': 9, 'n_estimators': 373, 'colsample_bytree': 0.6602489464824473, 'subsample': 0.7842520135182464, 'min_child_samples': 24}. Best is trial 5 with value: 0.18346863829811735.\u001b[0m"}
{"asctime": "2025-12-31 20:41:03,850", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:03,850]\u001b[0m Trial 9 finished with value: 0.18374109916657175 and parameters: {'learning_rate': 0.11202583443863363, 'num_leaves': 60, 'max_depth': 5, 'n_estimators': 1954, 'colsample_bytree': 0.7224568616108442, 'subsample': 0.9929833008599457, 'min_child_samples': 25}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:09,158", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:09,157]\u001b[0m Trial 10 finished with value: 0.18091631894894225 and parameters: {'learning_rate': 0.13003710831343654, 'num_leaves': 181, 'max_depth': 15, 'n_estimators': 940, 'colsample_bytree': 0.5017235687981308, 'subsample': 0.9747854626745146, 'min_child_samples': 12}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:16,704", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:16,703]\u001b[0m Trial 11 finished with value: 0.18359972502876803 and parameters: {'learning_rate': 0.14069156235879582, 'num_leaves': 20, 'max_depth': 4, 'n_estimators': 2225, 'colsample_bytree': 0.579404246116114, 'subsample': 0.6255887016408258, 'min_child_samples': 40}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:23,739", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:23,738]\u001b[0m Trial 12 finished with value: 0.18325662853221186 and parameters: {'learning_rate': 0.14749003195044888, 'num_leaves': 20, 'max_depth': 4, 'n_estimators': 2405, 'colsample_bytree': 0.6014874163690498, 'subsample': 0.999233716600853, 'min_child_samples': 45}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:32,173", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:32,173]\u001b[0m Trial 13 finished with value: 0.18363305718587902 and parameters: {'learning_rate': 0.08752794667871865, 'num_leaves': 77, 'max_depth': 4, 'n_estimators': 1146, 'colsample_bytree': 0.9034038553387518, 'subsample': 0.5505445336360114, 'min_child_samples': 43}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:40,374", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:40,373]\u001b[0m Trial 14 finished with value: 0.18228427575709363 and parameters: {'learning_rate': 0.07506395374437161, 'num_leaves': 89, 'max_depth': 13, 'n_estimators': 1063, 'colsample_bytree': 0.9091103546483827, 'subsample': 0.5043654512185161, 'min_child_samples': 11}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:48,099", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:48,098]\u001b[0m Trial 15 finished with value: 0.18292789999163456 and parameters: {'learning_rate': 0.08111897079396276, 'num_leaves': 78, 'max_depth': 20, 'n_estimators': 1159, 'colsample_bytree': 0.8785119590643364, 'subsample': 0.9088056179808547, 'min_child_samples': 38}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:41:57,049", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:41:57,048]\u001b[0m Trial 16 finished with value: 0.18197770566054436 and parameters: {'learning_rate': 0.022481316993260034, 'num_leaves': 129, 'max_depth': 12, 'n_estimators': 627, 'colsample_bytree': 0.8824649498899558, 'subsample': 0.5807539919144802, 'min_child_samples': 73}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:42:05,049", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:42:05,049]\u001b[0m Trial 17 finished with value: 0.18358144497868586 and parameters: {'learning_rate': 0.08953843627331558, 'num_leaves': 79, 'max_depth': 4, 'n_estimators': 1760, 'colsample_bytree': 0.6976822761857001, 'subsample': 0.6913104212828088, 'min_child_samples': 48}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:42:16,120", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:42:16,119]\u001b[0m Trial 18 finished with value: 0.18261367003518475 and parameters: {'learning_rate': 0.0630195233035636, 'num_leaves': 156, 'max_depth': 7, 'n_estimators': 1383, 'colsample_bytree': 0.9891852995304968, 'subsample': 0.9031286241500885, 'min_child_samples': 86}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:42:23,658", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "\u001b[32m[I 2025-12-31 20:42:23,657]\u001b[0m Trial 19 finished with value: 0.1821928873719188 and parameters: {'learning_rate': 0.02474272283761283, 'num_leaves': 97, 'max_depth': 11, 'n_estimators': 741, 'colsample_bytree': 0.8400263418916317, 'subsample': 0.7104830519849671, 'min_child_samples': 18}. Best is trial 9 with value: 0.18374109916657175.\u001b[0m"}
{"asctime": "2025-12-31 20:42:23,661", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [최적화 완료] Best AP: 0.1837"}
{"asctime": "2025-12-31 20:42:23,662", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " Best Params: {'learning_rate': 0.11202583443863363, 'num_leaves': 60, 'max_depth': 5, 'n_estimators': 1954, 'colsample_bytree': 0.7224568616108442, 'subsample': 0.9929833008599457, 'min_child_samples': 25}"}
{"asctime": "2025-12-31 20:42:23,663", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"설정 파일에 저장하시겠습니까? (y/n):\""}
{"asctime": "2025-12-31 20:43:34,231", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"y\""}
{"asctime": "2025-12-31 20:43:34,403", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 저장 완료. '모델 학습' 메뉴를 통해 재학습해주세요."}
{"asctime": "2025-12-31 20:43:34,424", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [2. 모델 학습 및 최적화] ---"}
{"asctime": "2025-12-31 20:43:34,425", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 모델 학습 (Train)"}
{"asctime": "2025-12-31 20:43:34,425", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. ML 하이퍼파라미터 최적화 (Optuna)"}
{"asctime": "2025-12-31 20:43:34,427", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 20:43:34,427", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 20:43:36,718", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"1\""}
{"asctime": "2025-12-31 20:43:36,770", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:43:36,770", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 20:43:36,771", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:43:36,771", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 전체 데이터셋 로드: data/proc/ml_dataset\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 20:43:38,777", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 589.59 MB -> 304.96 MB (48.3% 감소)"}
{"asctime": "2025-12-31 20:43:40,033", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 20:43:40,051", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 87375개, 실패(0) 634874개"}
{"asctime": "2025-12-31 20:43:40,068", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 20:43:40,068", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 20:44:23,029", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.1807 (L=0.1807)"}
{"asctime": "2025-12-31 20:44:23,101", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.1802 (L=0.1802)"}
{"asctime": "2025-12-31 20:44:23,180", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2442 (L=0.2442)"}
{"asctime": "2025-12-31 20:44:23,257", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.1975 (L=0.1975)"}
{"asctime": "2025-12-31 20:44:23,320", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.1832 (L=0.1832)"}
{"asctime": "2025-12-31 20:44:23,321", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.1971"}
{"asctime": "2025-12-31 20:44:23,321", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 20:45:28,561", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 20:45:28,593", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [2. 모델 학습 및 최적화] ---"}
{"asctime": "2025-12-31 20:45:28,593", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 모델 학습 (Train)"}
{"asctime": "2025-12-31 20:45:28,593", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. ML 하이퍼파라미터 최적화 (Optuna)"}
{"asctime": "2025-12-31 20:45:28,594", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 20:45:28,594", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 20:45:33,817", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"0\""}
{"asctime": "2025-12-31 20:45:33,817", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:45:33,818", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "      <<< SpikeHunter v5.2 Integrated Pipeline >>>"}
{"asctime": "2025-12-31 20:45:33,818", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:45:33,818", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 데이터 관리 (수집/생성/점검)"}
{"asctime": "2025-12-31 20:45:33,819", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 모델 학습 및 ML 최적화"}
{"asctime": "2025-12-31 20:45:33,819", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. 전략 백테스트 / 최적화 / WF검증"}
{"asctime": "2025-12-31 20:45:33,819", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "4. 분석 메뉴 (Feature Analysis)"}
{"asctime": "2025-12-31 20:45:33,820", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "5. 유틸리티 (Utils)"}
{"asctime": "2025-12-31 20:45:33,820", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "6. 실전 검증 (Field Test)"}
{"asctime": "2025-12-31 20:45:33,820", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "9. 유지보수 및 데이터 관리 (Maintenance)"}
{"asctime": "2025-12-31 20:45:33,820", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 종료"}
{"asctime": "2025-12-31 20:45:33,821", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"메뉴를 선택하세요:\""}
{"asctime": "2025-12-31 20:45:35,983", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"3\""}
{"asctime": "2025-12-31 20:45:35,983", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [3. 전략 백테스트 및 최적화] ---"}
{"asctime": "2025-12-31 20:45:35,984", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 전략 백테스트 실행 (Backtest)"}
{"asctime": "2025-12-31 20:45:35,984", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 전략 파라미터 최적화 (Strategy Optimization)"}
{"asctime": "2025-12-31 20:45:35,984", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. Walk-Forward 검증 (전진 분석)"}
{"asctime": "2025-12-31 20:45:35,985", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 20:45:35,985", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 20:45:37,459", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"3\""}
{"asctime": "2025-12-31 20:45:37,503", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 143, "message": ">>> Walk-Forward 최적화를 시작합니다: 'SpikeHunter_R1_BullStable'"}
{"asctime": "2025-12-31 20:45:37,544", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 159, "message": "결과 저장 경로: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537"}
{"asctime": "2025-12-31 20:45:37,555", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 1] Train: 2020-01-01~2021-12-31 | Test: 2022-01-01~2022-06-30"}
{"asctime": "2025-12-31 20:45:37,634", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2020-01-01 ~ 2022-06-30"}
{"asctime": "2025-12-31 20:45:38,857", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1449685 행"}
{"asctime": "2025-12-31 20:45:38,860", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 20:45:38,892", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 20:46:30,808", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 20:46:30,992", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 20:46:32,975", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.990738335325917%, 손절: -2.7337402392375596%, 기간: 5일)"}
{"asctime": "2025-12-31 20:46:41,090", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_1\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 20:46:41,090", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 636322 행"}
{"asctime": "2025-12-31 20:46:43,535", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 20:46:43,592", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:46:43,593", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 20:46:43,593", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:46:43,594", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_1\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 20:46:44,234", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 222.07 MB -> 118.56 MB (46.6% 감소)"}
{"asctime": "2025-12-31 20:46:45,025", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 20:46:45,032", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 70093개, 실패(0) 423257개"}
{"asctime": "2025-12-31 20:46:45,051", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 20:46:45,052", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 20:46:59,522", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2150 (L=0.2150)"}
{"asctime": "2025-12-31 20:46:59,554", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2022 (L=0.2022)"}
{"asctime": "2025-12-31 20:46:59,587", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.1964 (L=0.1964)"}
{"asctime": "2025-12-31 20:46:59,623", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.1878 (L=0.1878)"}
{"asctime": "2025-12-31 20:46:59,658", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2054 (L=0.2054)"}
{"asctime": "2025-12-31 20:46:59,659", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2014"}
{"asctime": "2025-12-31 20:46:59,659", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 20:47:41,096", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_1\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 20:47:41,191", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 20:47:41,191", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 1 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 20:47:41,225", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 20:47:41,226", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 20:47:41,251", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2020-01-01 ~ 2021-12-31)"}
{"asctime": "2025-12-31 20:47:41,670", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_1\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 20:48:18,295", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1421, Max: 0.9993)"}
{"asctime": "2025-12-31 20:50:54,161", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 46579.5811"}
{"asctime": "2025-12-31 20:50:54,173", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.09579197007652998, 'stop_r': -0.04997593319081706, 'max_market_vol': 0.02296638215086924, 'vbo_k': 0.6015056738846234, 'min_mfi': 43.57357019783266}"}
{"asctime": "2025-12-31 20:50:54,204", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 20:50:55,366", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 8 rows."}
{"asctime": "2025-12-31 20:51:08,200", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 1 종료 자산: 18,776,252원"}
{"asctime": "2025-12-31 20:51:08,202", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 2] Train: 2020-07-01~2022-06-30 | Test: 2022-07-01~2022-12-31"}
{"asctime": "2025-12-31 20:51:08,212", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0958)"}
{"asctime": "2025-12-31 20:51:08,338", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2020-07-01 ~ 2022-12-31"}
{"asctime": "2025-12-31 20:51:09,663", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1480330 행"}
{"asctime": "2025-12-31 20:51:09,664", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 20:51:09,681", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 20:51:58,306", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 20:51:58,483", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 20:52:00,448", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.579197007652999%, 손절: -4.997593319081705%, 기간: 5일)"}
{"asctime": "2025-12-31 20:52:07,429", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_2\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 20:52:07,430", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 574905 행"}
{"asctime": "2025-12-31 20:52:09,601", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 20:52:09,661", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:52:09,662", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 20:52:09,662", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:52:09,662", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_2\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 20:52:10,166", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 198.71 MB -> 106.09 MB (46.6% 감소)"}
{"asctime": "2025-12-31 20:52:10,548", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 20:52:10,555", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 70647개, 실패(0) 370802개"}
{"asctime": "2025-12-31 20:52:10,568", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 20:52:10,568", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 20:52:33,097", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2770 (L=0.2770)"}
{"asctime": "2025-12-31 20:52:33,129", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2363 (L=0.2363)"}
{"asctime": "2025-12-31 20:52:33,162", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2971 (L=0.2971)"}
{"asctime": "2025-12-31 20:52:33,200", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2718 (L=0.2718)"}
{"asctime": "2025-12-31 20:52:33,227", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2420 (L=0.2420)"}
{"asctime": "2025-12-31 20:52:33,228", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2648"}
{"asctime": "2025-12-31 20:52:33,228", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 20:53:10,761", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_2\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 20:53:10,852", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 20:53:10,852", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 2 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 20:53:10,875", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 20:53:10,877", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 20:53:10,902", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2020-07-01 ~ 2022-06-30)"}
{"asctime": "2025-12-31 20:53:11,256", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_2\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 20:53:44,650", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1600, Max: 0.9901)"}
{"asctime": "2025-12-31 20:56:15,368", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 13554.9502"}
{"asctime": "2025-12-31 20:56:15,393", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.08581239254680886, 'stop_r': -0.049999674527539305, 'max_market_vol': 0.027453423287377855, 'vbo_k': 0.4498241667503904, 'min_mfi': 58.16387796723602}"}
{"asctime": "2025-12-31 20:56:15,419", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 20:56:16,304", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 21 rows."}
{"asctime": "2025-12-31 20:56:27,913", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 2 종료 자산: 21,846,927원"}
{"asctime": "2025-12-31 20:56:27,914", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 3] Train: 2021-01-01~2022-12-31 | Test: 2023-01-01~2023-06-30"}
{"asctime": "2025-12-31 20:56:27,919", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0858)"}
{"asctime": "2025-12-31 20:56:28,002", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2021-01-01 ~ 2023-06-30"}
{"asctime": "2025-12-31 20:56:28,782", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1503648 행"}
{"asctime": "2025-12-31 20:56:28,782", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 20:56:28,791", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 20:57:23,946", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 20:57:24,203", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 20:57:27,316", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 8.581239254680886%, 손절: -4.99996745275393%, 기간: 5일)"}
{"asctime": "2025-12-31 20:57:35,581", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_3\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 20:57:35,582", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 660185 행"}
{"asctime": "2025-12-31 20:57:38,267", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 20:57:38,331", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:57:38,332", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 20:57:38,332", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 20:57:38,332", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_3\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 20:57:38,909", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 228.80 MB -> 122.16 MB (46.6% 감소)"}
{"asctime": "2025-12-31 20:57:39,420", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 20:57:39,430", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 89378개, 실패(0) 418924개"}
{"asctime": "2025-12-31 20:57:39,448", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 20:57:39,449", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 20:58:09,176", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2770 (L=0.2770)"}
{"asctime": "2025-12-31 20:58:09,211", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2982 (L=0.2982)"}
{"asctime": "2025-12-31 20:58:09,249", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2760 (L=0.2760)"}
{"asctime": "2025-12-31 20:58:09,283", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2714 (L=0.2714)"}
{"asctime": "2025-12-31 20:58:09,319", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2941 (L=0.2941)"}
{"asctime": "2025-12-31 20:58:09,319", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2833"}
{"asctime": "2025-12-31 20:58:09,319", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 20:58:51,497", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_3\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 20:58:51,578", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 20:58:51,579", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 3 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 20:58:51,601", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 20:58:51,602", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 20:58:51,628", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2021-01-01 ~ 2022-12-31)"}
{"asctime": "2025-12-31 20:58:52,065", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_3\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 20:59:32,009", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1758, Max: 0.9949)"}
{"asctime": "2025-12-31 21:02:11,295", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 18221.5318"}
{"asctime": "2025-12-31 21:02:11,310", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.09439886843937909, 'stop_r': -0.04962986943666896, 'max_market_vol': 0.029287282373235513, 'vbo_k': 0.6401308410762331, 'min_mfi': 40.1867466454791}"}
{"asctime": "2025-12-31 21:02:11,334", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 21:02:12,204", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 4 rows."}
{"asctime": "2025-12-31 21:02:26,639", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 3 종료 자산: 33,305,618원"}
{"asctime": "2025-12-31 21:02:26,640", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 4] Train: 2021-07-01~2023-06-30 | Test: 2023-07-01~2023-12-31"}
{"asctime": "2025-12-31 21:02:26,645", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0944)"}
{"asctime": "2025-12-31 21:02:26,730", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2021-07-01 ~ 2023-12-31"}
{"asctime": "2025-12-31 21:02:27,558", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1528343 행"}
{"asctime": "2025-12-31 21:02:27,558", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 21:02:27,579", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 21:03:19,793", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 21:03:20,006", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 21:03:22,011", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.43988684393791%, 손절: -4.962986943666896%, 기간: 5일)"}
{"asctime": "2025-12-31 21:03:29,972", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_4\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 21:03:29,973", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 617485 행"}
{"asctime": "2025-12-31 21:03:32,189", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 21:03:32,247", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:03:32,247", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 21:03:32,248", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:03:32,248", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_4\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 21:03:32,780", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 214.91 MB -> 114.28 MB (46.8% 감소)"}
{"asctime": "2025-12-31 21:03:33,225", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 21:03:33,231", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 73924개, 실패(0) 403507개"}
{"asctime": "2025-12-31 21:03:33,245", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 21:03:33,245", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 21:03:59,084", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2461 (L=0.2461)"}
{"asctime": "2025-12-31 21:03:59,137", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2339 (L=0.2339)"}
{"asctime": "2025-12-31 21:03:59,190", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2576 (L=0.2576)"}
{"asctime": "2025-12-31 21:03:59,241", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2699 (L=0.2699)"}
{"asctime": "2025-12-31 21:03:59,294", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2808 (L=0.2808)"}
{"asctime": "2025-12-31 21:03:59,295", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2577"}
{"asctime": "2025-12-31 21:03:59,295", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 21:04:41,511", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_4\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 21:04:41,589", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 21:04:41,589", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 4 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 21:04:41,614", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 21:04:41,615", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 21:04:41,642", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2021-07-01 ~ 2023-06-30)"}
{"asctime": "2025-12-31 21:04:42,037", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_4\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 21:05:18,637", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1548, Max: 0.9891)"}
{"asctime": "2025-12-31 21:07:52,669", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 10058.0432"}
{"asctime": "2025-12-31 21:07:52,684", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.09691216959414865, 'stop_r': -0.04444899832130459, 'max_market_vol': 0.029896312421007844, 'vbo_k': 0.5304961406692724, 'min_mfi': 49.156755360372934}"}
{"asctime": "2025-12-31 21:07:52,714", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 21:07:53,778", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 9 rows."}
{"asctime": "2025-12-31 21:08:06,248", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 4 종료 자산: 71,959,160원"}
{"asctime": "2025-12-31 21:08:06,248", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 5] Train: 2022-01-01~2023-12-31 | Test: 2024-01-01~2024-06-30"}
{"asctime": "2025-12-31 21:08:06,255", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0969)"}
{"asctime": "2025-12-31 21:08:06,340", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2022-01-01 ~ 2024-06-30"}
{"asctime": "2025-12-31 21:08:07,236", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1545624 행"}
{"asctime": "2025-12-31 21:08:07,237", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 21:08:07,251", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 21:08:58,999", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 21:08:59,228", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 21:09:01,166", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.691216959414865%, 손절: -4.444899832130459%, 기간: 5일)"}
{"asctime": "2025-12-31 21:09:08,440", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_5\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 21:09:08,442", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 592738 행"}
{"asctime": "2025-12-31 21:09:10,769", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 21:09:10,828", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:09:10,828", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 21:09:10,829", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:09:10,829", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_5\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 21:09:11,351", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 206.55 MB -> 108.09 MB (47.7% 감소)"}
{"asctime": "2025-12-31 21:09:11,747", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 21:09:11,753", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 64695개, 실패(0) 394173개"}
{"asctime": "2025-12-31 21:09:11,766", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 21:09:11,766", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 21:09:35,083", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2151 (L=0.2151)"}
{"asctime": "2025-12-31 21:09:35,115", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2384 (L=0.2384)"}
{"asctime": "2025-12-31 21:09:35,147", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2536 (L=0.2536)"}
{"asctime": "2025-12-31 21:09:35,189", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2674 (L=0.2674)"}
{"asctime": "2025-12-31 21:09:35,223", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2329 (L=0.2329)"}
{"asctime": "2025-12-31 21:09:35,223", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2415"}
{"asctime": "2025-12-31 21:09:35,224", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 21:10:14,019", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_5\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 21:10:14,087", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 21:10:14,087", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 5 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 21:10:14,112", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 21:10:14,113", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 21:10:14,140", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2022-01-01 ~ 2023-12-31)"}
{"asctime": "2025-12-31 21:10:14,517", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_5\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 21:10:49,497", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1410, Max: 0.9954)"}
{"asctime": "2025-12-31 21:13:11,319", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 8285.5785"}
{"asctime": "2025-12-31 21:13:11,332", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.0934618346253616, 'stop_r': -0.04840032364736541, 'max_market_vol': 0.03672678156059507, 'vbo_k': 0.43405408718068994, 'min_mfi': 41.276192041707645}"}
{"asctime": "2025-12-31 21:13:11,359", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 21:13:12,210", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 3 rows."}
{"asctime": "2025-12-31 21:13:24,229", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 5 종료 자산: 89,184,458원"}
{"asctime": "2025-12-31 21:13:24,229", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 6] Train: 2022-07-01~2024-06-30 | Test: 2024-07-01~2024-12-31"}
{"asctime": "2025-12-31 21:13:24,236", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0935)"}
{"asctime": "2025-12-31 21:13:24,321", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2022-07-01 ~ 2024-12-31"}
{"asctime": "2025-12-31 21:13:25,181", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1577646 행"}
{"asctime": "2025-12-31 21:13:25,181", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 21:13:25,200", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 21:14:09,713", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 21:14:09,897", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 21:14:12,096", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.34618346253616%, 손절: -4.840032364736541%, 기간: 5일)"}
{"asctime": "2025-12-31 21:14:19,743", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_6\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 21:14:19,746", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 526856 행"}
{"asctime": "2025-12-31 21:14:22,427", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 21:14:22,495", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:14:22,495", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 21:14:22,496", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:14:22,496", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_6\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 21:14:22,991", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 183.07 MB -> 95.80 MB (47.7% 감소)"}
{"asctime": "2025-12-31 21:14:23,399", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 21:14:23,405", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 65322개, 실패(0) 341381개"}
{"asctime": "2025-12-31 21:14:23,416", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 21:14:23,416", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 21:14:37,060", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2616 (L=0.2616)"}
{"asctime": "2025-12-31 21:14:37,107", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2823 (L=0.2823)"}
{"asctime": "2025-12-31 21:14:37,138", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2716 (L=0.2716)"}
{"asctime": "2025-12-31 21:14:37,169", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2708 (L=0.2708)"}
{"asctime": "2025-12-31 21:14:37,199", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2729 (L=0.2729)"}
{"asctime": "2025-12-31 21:14:37,200", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2718"}
{"asctime": "2025-12-31 21:14:37,200", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 21:15:12,408", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_6\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 21:15:12,491", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 21:15:12,491", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 6 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 21:15:12,514", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 21:15:12,515", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 21:15:12,542", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2022-07-01 ~ 2024-06-30)"}
{"asctime": "2025-12-31 21:15:12,881", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_6\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 21:15:43,982", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1606, Max: 0.9916)"}
{"asctime": "2025-12-31 21:18:08,349", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 36973.9312"}
{"asctime": "2025-12-31 21:18:08,363", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.09673544726361769, 'stop_r': -0.049991438004349756, 'max_market_vol': 0.0308233189510181, 'vbo_k': 0.39320226333438013, 'min_mfi': 46.50003166940933}"}
{"asctime": "2025-12-31 21:18:08,393", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 21:18:09,115", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 3 rows."}
{"asctime": "2025-12-31 21:18:19,848", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 6 종료 자산: 80,657,053원"}
{"asctime": "2025-12-31 21:18:19,849", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 183, "message": "\n[Period 7] Train: 2023-01-01~2024-12-31 | Test: 2025-01-01~2025-06-30"}
{"asctime": "2025-12-31 21:18:19,854", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 201, "message": " >> [Adaptive] 이전 구간 최적 파라미터 적용 (Target: 0.0967)"}
{"asctime": "2025-12-31 21:18:19,927", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 45, "message": "[Derive] 데이터 로드 시작: 2023-01-01 ~ 2025-06-30"}
{"asctime": "2025-12-31 21:18:20,752", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 56, "message": "로드된 종목 데이터: 1585256 행"}
{"asctime": "2025-12-31 21:18:20,753", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 59, "message": "[Derive] KOSPI 시장 지표 생성 중..."}
{"asctime": "2025-12-31 21:18:20,767", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 73, "message": "[Derive] 개별 종목 피처 생성 중..."}
{"asctime": "2025-12-31 21:19:11,517", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 96, "message": "[Derive] 시장 피처(Trend/Vol) 병합 중..."}
{"asctime": "2025-12-31 21:19:11,730", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 103, "message": "[Derive] 시장 대비 순위(Rank) 피처 생성 중..."}
{"asctime": "2025-12-31 21:19:14,154", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 111, "message": "[Derive] 라벨링 생성 중... (익절: 9.673544726361769%, 손절: -4.999143800434975%, 기간: 5일)"}
{"asctime": "2025-12-31 21:19:22,230", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 127, "message": "[Derive] 데이터셋 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_7\\features\\ml_classification_dataset.parquet"}
{"asctime": "2025-12-31 21:19:22,231", "name": "QuantPipeline", "levelname": "INFO", "filename": "derive.py", "lineno": 128, "message": "총 데이터 수: 635361 행"}
{"asctime": "2025-12-31 21:19:24,471", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 249, "message": " >> 모델 학습 진행 (Train Data Only)..."}
{"asctime": "2025-12-31 21:19:24,528", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:19:24,528", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [Phase 3] SpikeHunter v5.9 앙상블 모델 학습"}
{"asctime": "2025-12-31 21:19:24,529", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 21:19:24,529", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> [Data] 학습 전용 데이터셋 로드 (WF Mode): data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_7\\features_train_only\\dataset_v4.parquet"}
{"asctime": "2025-12-31 21:19:25,126", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 315, "message": "메모리 사용량 최적화 완료: 222.02 MB -> 116.18 MB (47.7% 감소)"}
{"asctime": "2025-12-31 21:19:25,638", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 학습 피처 수: 16개"}
{"asctime": "2025-12-31 21:19:25,645", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 타겟 분포: 성공(1) 74013개, 실패(0) 419217개"}
{"asctime": "2025-12-31 21:19:25,656", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 5-Fold 시계열 교차검증 시작... (Sequential Folds)"}
{"asctime": "2025-12-31 21:19:25,656", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "    * 앙상블 모델: LGBM"}
{"asctime": "2025-12-31 21:19:45,919", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 1] Ensemble AP: 0.2655 (L=0.2655)"}
{"asctime": "2025-12-31 21:19:45,954", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 2] Ensemble AP: 0.2510 (L=0.2510)"}
{"asctime": "2025-12-31 21:19:45,989", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 3] Ensemble AP: 0.2604 (L=0.2604)"}
{"asctime": "2025-12-31 21:19:46,024", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 4] Ensemble AP: 0.2929 (L=0.2929)"}
{"asctime": "2025-12-31 21:19:46,059", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " [Fold 5] Ensemble AP: 0.2913 (L=0.2913)"}
{"asctime": "2025-12-31 21:19:46,059", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 평균 AP: 0.2722"}
{"asctime": "2025-12-31 21:19:46,059", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전체 데이터로 최종 모델 학습 중..."}
{"asctime": "2025-12-31 21:20:28,234", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> LightGBM 모델 저장 완료: data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_7\\models\\lgbm_model.joblib"}
{"asctime": "2025-12-31 21:20:28,325", "name": "QuantPipeline", "levelname": "ERROR", "filename": "run_pipeline.py", "lineno": 139, "message": "[WFO-Thres] 임계값 계산 오류: name 'joblib' is not defined"}
{"asctime": "2025-12-31 21:20:28,326", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 255, "message": " >> [Adaptive] Period 7 최적 임계값 적용: 0.4900"}
{"asctime": "2025-12-31 21:20:28,349", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 267, "message": " >> 전략 파라미터 최적화 (Train Data)..."}
{"asctime": "2025-12-31 21:20:28,350", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 284, "message": " >> [Optuna] min_ml_score 최적화 제외 (Calculated Fixed Value: 0.49)"}
{"asctime": "2025-12-31 21:20:28,407", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 93, "message": " >> [WFO] 전략 최적화 시작 (2023-01-01 ~ 2024-12-31)"}
{"asctime": "2025-12-31 21:20:28,859", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 149, "message": " >> [WFO] ML Score 사전 계산 중... (data/proc/backtest\\WF-SpikeHunter_R1_BullStable-20251231_204537\\period_7\\models\\lgbm_model.joblib)"}
{"asctime": "2025-12-31 21:21:05,069", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 163, "message": " >> [WFO] ML Score 계산 완료. (Mean: 0.1501, Max: 0.9921)"}
{"asctime": "2025-12-31 21:23:40,375", "name": "QuantPipeline", "levelname": "INFO", "filename": "optimization.py", "lineno": 180, "message": " >> [WFO] 최적화 완료. Best Score: 30552.0423"}
{"asctime": "2025-12-31 21:23:40,405", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 299, "message": " >> 적용된 최적 파라미터: {'target_r': 0.09880973891031322, 'stop_r': -0.042942147804947615, 'max_market_vol': 0.028174096845147198, 'vbo_k': 0.371625590926338, 'min_mfi': 46.40883801707667}"}
{"asctime": "2025-12-31 21:23:40,430", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 324, "message": " >> 백테스트 진행 (Test Period)..."}
{"asctime": "2025-12-31 21:23:41,221", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 13 rows."}
{"asctime": "2025-12-31 21:23:53,514", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 346, "message": " >> Period 7 종료 자산: 103,681,394원"}
{"asctime": "2025-12-31 21:23:53,581", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 361, "message": "\n============================================================"}
{"asctime": "2025-12-31 21:23:53,581", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 362, "message": "   [Walk-Forward 최종 결과] 2020-01-01 ~ 2025-06-30"}
{"asctime": "2025-12-31 21:23:53,582", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 363, "message": "   - 최종 자산: 103,681,394 원"}
{"asctime": "2025-12-31 21:23:53,582", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 364, "message": "   - 수익률(CAGR): 95.52%"}
{"asctime": "2025-12-31 21:23:53,583", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 365, "message": "   - MDD: -42.43%"}
{"asctime": "2025-12-31 21:23:53,583", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 366, "message": "   - 승률: 41.34% (2102회)"}
{"asctime": "2025-12-31 21:23:53,583", "name": "QuantPipeline", "levelname": "INFO", "filename": "run_pipeline.py", "lineno": 367, "message": "============================================================"}
{"asctime": "2025-12-31 21:23:53,615", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [3. 전략 백테스트 및 최적화] ---"}
{"asctime": "2025-12-31 21:23:53,615", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 전략 백테스트 실행 (Backtest)"}
{"asctime": "2025-12-31 21:23:53,616", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 전략 파라미터 최적화 (Strategy Optimization)"}
{"asctime": "2025-12-31 21:23:53,616", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. Walk-Forward 검증 (전진 분석)"}
{"asctime": "2025-12-31 21:23:53,617", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 21:23:53,617", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 22:21:15,681", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"1\""}
{"asctime": "2025-12-31 22:21:15,719", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> 전략 'SpikeHunter_R1_BullStable' 백테스트 시작..."}
{"asctime": "2025-12-31 22:21:15,900", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "[SpikeHunter v4.0] Backtest Start (Close Entry + 5-Day Hold)"}
{"asctime": "2025-12-31 22:21:21,211", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": " >> Anomaly Exclusion applied: Removed 132 rows."}
{"asctime": "2025-12-31 22:21:21,224", "name": "QuantPipeline", "levelname": "INFO", "filename": "backtest.py", "lineno": 179, "message": " >> Anomaly Exclusion applied: Removed 132 rows."}
{"asctime": "2025-12-31 22:23:24,228", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_db.py", "lineno": 182, "message": "백테스트 결과가 DB에 성공적으로 기록되었습니다 (ID: SpikeHunter_R1_BullStable_20251231222324)."}
{"asctime": "2025-12-31 22:23:24,229", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 22:23:24,229", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   [백테스트 결과] 최종 자산: 85,813,818,449,066 원"}
{"asctime": "2025-12-31 22:23:24,229", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   - 수익률(CAGR): 1501.98%"}
{"asctime": "2025-12-31 22:23:24,230", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   - MDD: -63.13%"}
{"asctime": "2025-12-31 22:23:24,230", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "   - 승률: 47.61% (2489회)"}
{"asctime": "2025-12-31 22:23:24,230", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 22:23:24,316", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "--- [3. 전략 백테스트 및 최적화] ---"}
{"asctime": "2025-12-31 22:23:24,317", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 전략 백테스트 실행 (Backtest)"}
{"asctime": "2025-12-31 22:23:24,317", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 전략 파라미터 최적화 (Strategy Optimization)"}
{"asctime": "2025-12-31 22:23:24,317", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. Walk-Forward 검증 (전진 분석)"}
{"asctime": "2025-12-31 22:23:24,318", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 이전 메뉴로"}
{"asctime": "2025-12-31 22:23:24,321", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"선택:\""}
{"asctime": "2025-12-31 22:36:55,980", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"0\""}
{"asctime": "2025-12-31 22:36:56,099", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 22:36:56,100", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "      <<< SpikeHunter v5.2 Integrated Pipeline >>>"}
{"asctime": "2025-12-31 22:36:56,101", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "============================================================"}
{"asctime": "2025-12-31 22:36:56,102", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "1. 데이터 관리 (수집/생성/점검)"}
{"asctime": "2025-12-31 22:36:56,103", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "2. 모델 학습 및 ML 최적화"}
{"asctime": "2025-12-31 22:36:56,103", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "3. 전략 백테스트 / 최적화 / WF검증"}
{"asctime": "2025-12-31 22:36:56,104", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "4. 분석 메뉴 (Feature Analysis)"}
{"asctime": "2025-12-31 22:36:56,104", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "5. 유틸리티 (Utils)"}
{"asctime": "2025-12-31 22:36:56,105", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "6. 실전 검증 (Field Test)"}
{"asctime": "2025-12-31 22:36:56,106", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "9. 유지보수 및 데이터 관리 (Maintenance)"}
{"asctime": "2025-12-31 22:36:56,107", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "0. 종료"}
{"asctime": "2025-12-31 22:36:56,108", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 260, "message": "User Prompt: \"메뉴를 선택하세요:\""}
{"asctime": "2025-12-31 22:36:57,171", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_io.py", "lineno": 268, "message": "User Response: \"0\""}
{"asctime": "2025-12-31 22:36:57,175", "name": "QuantPipeline", "levelname": "INFO", "filename": "utils_logger.py", "lineno": 72, "message": "프로그램을 종료합니다."}
