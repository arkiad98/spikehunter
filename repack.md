SpikeHunter v4.0 재설계 로드맵
Phase 1. 가설 검증 및 패턴 발굴 (Diagnosis & Discovery)
목표: "급등하기 직전 5일간 주가는 정말로 수렴했는가?"를 데이터로 증명하고, 정량적 기준(Threshold)을 찾습니다.

Step 1-1. 급등주 포착기 개발 (addon_pre_spike_analyzer.py): 과거 데이터에서 '2일간 15% 이상 상승'한 종목들을 전수 조사합니다.

Step 1-2. 전조 현상 통계화: 급등 시점(T) 기준, T-5 ~ T-1 기간의 특징(변동성 축소, 거래량 감소, 특정 캔들 패턴 등)을 통계로 추출합니다.

Step 1-3. 필터링 조건 확정: "볼린저 밴드 폭이 0.15 이하일 때 급등 확률이 높다"와 같은 구체적인 수치를 확정합니다.

Phase 2. 데이터 엔지니어링 고도화 (Data Engineering)
목표: ML 모델이 '수익률'이 아닌 '성공 확률(손익비)'을 학습하도록 데이터를 재구성합니다.

Step 2-1. 트리플 배리어 라벨링 (labeling.py): 단순 N일 후 수익률이 아니라, 익절가 도달(1), 손절가 도달(-1), 횡보(0)로 라벨을 변경합니다.

Step 2-2. 수렴 지표 추가 (features.py): Bollinger Bandwidth, NR7(최근 7일 중 최소 변동폭), Volume Dry-up(거래량 말라붙음) 등 '응축' 관련 피처를 대거 추가합니다.

Phase 3. 모델링 및 학습 전략 변경 (Modeling)
목표: 노이즈를 거르고 '진짜 돌파'만 골라내는 모델을 만듭니다.

Step 3-1. 정밀도(Precision) 중심 학습: 놓치더라도 괜찮으니, 샀을 때 확실히 오르는 종목만 찾도록 모델의 평가 기준(Metric)을 변경합니다.

Step 3-2. 확률 캘리브레이션: 모델이 뱉는 점수(Score)가 실제 상승 확률과 일치하도록 보정합니다.

Phase 4. 매매 로직 및 백테스트 개편 (Execution Strategy)
목표: 추격 매수가 아닌 '길목 지키기' 매매를 구현합니다.

Step 4-1. 지정가 매매 로직 (backtest.py): 시그널 발생 시 즉시 매수하지 않고, "전일 종가 -2% ~ -3%" 지점에 매수 주문을 깔아두는 로직을 구현합니다. (눌림목 매수)

Step 4-2. 변동성 기반 포지션 사이징: 손절폭이 넓어야 하는 종목은 비중을 줄이고, 손절폭이 좁은 종목은 비중을 늘리는 Volatility Sizing을 적용합니다.