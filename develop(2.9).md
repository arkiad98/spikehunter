Version	Description	Details
v2.9.01	데이터 수집 로직 중앙화	
[문제점] backtest, predict 등 여러 모듈에서 pykrx를 직접 호출하여 동일한 KOSPI 지수 데이터를 중복 수집하고 있었음. 
[수정] 모든 원본 데이터(종목, 지수) 수집을 collect.py로 일원화. 다른 모듈은 collect.py가 저장한 로컬 파일을 읽도록 변경하여 API 호출을 최소화하고 효율성 증대.

v2.9.02	수급 데이터 수집 방식 최적화	
[문제점] 데이터 무결성 검사 결과, 외국인/기관 수급 데이터가 전혀 수집되지 않음. 
[수정] 원인 분석 결과, API 함수 사용법 오류 확인. 종목별로 수천 번 API를 호출하던 방식에서, 시장 전체 수급을 단 몇 번의 호출로 가져오는 get_market_net_purchases_of_equities 함수를 사용하도록 로직을 전면 교체.

v2.9.03	코드 구조 리팩토링 및 안정화	
[문제점] 기능 개선 과정에서 run_pipeline.py와 다른 모듈 간에 순환 참조(Circular Import)가 발생하고, get_user_input과 같은 헬퍼 함수 위치가 부적절하여 연쇄적인 NameError, AttributeError가 발생함. 
[수정] optimization.py 모듈을 신설하여 최적화 함수를 분리, 순환 참조 해결. 헬퍼 함수를 utils_io.py로 이동시켜 코드 구조 개선.

v2.9.04	백테스트 포지션 관리 로직 수정	
[문제점] 백테스트 실행 중, 거래를 하지 않는 시장 국면(예: R4)에서 continue 구문이 매수 로직뿐만 아니라 매도 로직까지 건너뛰는 치명적인 버그 발견. 
[수정] 백테스트 메인 루프를 '준비 -> 매도(항상 실행) -> 매수(조건부 실행)'의 3단계 구조로 재설계하여, 어떤 시장 상황에서도 포지션 청산 로직이 정상적으로 작동하도록 보장.

v2.9.05	Walk-Forward(WF) 테스트 신뢰도 확보 (1/3)	
[문제점] WF 테스트에서 시장 국면(Regime)이 N/A로 표시되며 판단이 이루어지지 않음. [수정] 원인은 MA200 계산에 필요한 과거 지수 데이터 부족. 백테스트 시 KOSPI 데이터를 테스트 시작일보다 1년 더 이전부터 불러오도록 수정하여 해결.

v2.9.06	Walk-Forward(WF) 테스트 신뢰도 확보 (2/3)	
[문제점] WF 테스트에서 최적화된 새 파라미터가 아닌, 옛날 기본 파라미터가 적용되는 현상 발견. [수정] 디버그 로그 분석 결과, BaseStrategy 클래스의 파라미터 초기화 방식이 동적 변경에 취약함을 확인. __init__ 메소드에서 모든 파라미터를 명시적으로 할당하는 안정적인 방식으로 전면 교체하여 해결.

v2.9.07	Walk-Forward(WF) 테스트 신뢰도 확보 (3/3)	
[문제점] WF의 '학습' 단계에서 데이터셋을 만들 때, 미래 정보까지 학습한 '전역 ML 모델'을 사용하여 정보 누수(Lookahead Bias)가 발생하는 구조적 문제 발견. [수정] '2-Pass' 아키텍처 도입. 각 학습 주기마다 (Pass 1)해당 기간 데이터만으로 '순수 임시 모델'을 만들고, (Pass 2)이 임시 모델을 이용해 '순수 고급 데이터셋'과 '최종 모델'을 생성하여 테스트를 진행하도록 파이프라인 전체를 재구성.